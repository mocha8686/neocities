---
import { Font } from 'astro:assets';

import Back from '$src/components/Back.astro';

import BaseLayout from './BaseLayout.astro';
---

<BaseLayout>
	<Fragment slot="head">
		<Font cssVariable="--font-blinker" preload />
		<Font cssVariable="--font-fira-code" preload />
	</Fragment>

	<slot />
	<Back />
</BaseLayout>

<style is:global>
	:root {
		/* stylelint-disable custom-property-empty-line-before */
		--cl-light: oklch(90% 0.01 250);
		--cl-dark: oklch(10% 0.01 0);
		--cl-accent: oklch(80% 0.23 150);

		--ff-main: var(--font-blinker);
		--ff-accent: var(--font-blinker);
		--ff-code: var(--font-fira-code);

		/* stylelint-enable custom-property-empty-line-before */

		color-scheme: only dark;
	}

	body {
		margin-block-end: 2rem;
		margin-inline: 1rem;

		font-family: var(--ff-main);
		color: var(--cl-foreground);

		background: var(--cl-background);
	}

	:where(h1, h2, h3, h4, h5, h6) {
		font-family: var(--ff-accent);
	}

	a {
		color: var(--cl-accent);
	}

	hr {
		margin-block: 2rem;
		border-color: var(--cl-accent);
	}

	h1::before {
		content: '$ ';
	}

	h1::after {
		content: '|';
		animation: 1.5s cubic-bezier(0, 1, 0, 1) infinite forwards blink;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}
	}

	@keyframes blink {
		50% {
			opacity: 0;
		}
	}

	h1 {
		font-family: var(--ff-code);
		color: var(--cl-accent);
	}

	code,
	kbd,
	samp {
		font-family: var(--ff-code);
		font-size: 0.9rem;
		color: var(--cl-accent);
	}

	.astro-code {
		code,
		kbd,
		samp {
			font-size: 1rem;
			color: inherit;
		}
	}

	p {
		text-wrap: pretty;
	}
</style>
